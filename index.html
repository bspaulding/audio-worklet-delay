<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>learn dsp with webaudio</title>
  </head>
  <body>
    <div id="context-state">uninitialized</div>
    <button id="start">start</button>

    <style>
      .audio-nodes {
        display: flex;
        justify-content: space-between;
      }
    </style>
    <div class="audio-nodes">
      <style>
        .audio-node-params-group {
          --audio-node-type-color: black;
          border: 4px solid var(--audio-node-type-color);
        }
        .audio-node-params-group > .title {
          font-weight: 600;
        }
        .audio-node-type-dynamics {
          --audio-node-type-color: orange;
        }
        .audio-node-type-delay {
          --audio-node-type-color: rgb(66, 96, 147);
        }
      </style>
      <div class="audio-node-params-group audio-node-type-dynamics">
        <div class="title">compressor</div>
        <div>
          <label for="compressor-bypass">bypass</label>
          <input
            type="checkbox"
            id="compressor-bypass"
            name="compressor-bypass"
            disabled
          />
          <span id="compressor-bypass-value"></span>
        </div>
        <div>
          <label for="compressor-input-gain">input gain</label>
          <input
            type="range"
            id="compressor-input-gain"
            name="compressor-input-gain"
            min="0"
            max="5"
            value="1"
            step="0.1"
            disabled
          />
          <span id="compressor-input-gain-value"></span>
        </div>
        <div>
          <label for="compressor-output-gain">output gain</label>
          <input
            type="range"
            id="compressor-output-gain"
            name="compressor-output-gain"
            min="0"
            max="5"
            value="1"
            step="0.1"
            disabled
          />
          <span id="compressor-output-gain-value"></span>
        </div>
        <div>
          <label for="threshold">threshold</label>
          <input
            type="range"
            id="threshold"
            name="threshold"
            min="-80"
            max="0"
            value="-30"
            disabled
          />
          <span id="threshold-value"></span>
        </div>
        <div>
          <label for="ratio">ratio</label>
          <input
            type="range"
            id="ratio"
            name="ratio"
            min="1"
            max="20"
            value="2"
            disabled
          />
          <span id="ratio-value"></span>
        </div>
        <div>
          <label for="attack">attack</label>
          <input
            type="range"
            id="attack"
            name="attack"
            min="0"
            max="100"
            value="15"
            disabled
          />
          <span id="attack-value"></span>
        </div>
        <div>
          <progress name="compressor-rms" value="0"></progress>
          <label for="compressor-rms">rms</label>
          <span id="compressor-rms-raw"></span>
        </div>
        <div>
          <progress
            name="compressor-reduction"
            value="0"
            style="transform: rotate(180deg);"
          ></progress>
          <label for="compressor-reduction">reduction</label>
          <span id="compressor-reduction-raw"></span>
        </div>
      </div>
      <div class="audio-node-params-group audio-node-type-delay">
        <div class="title">delay</div>
        <div>
          <label for="mix">mix</label>
          <input
            type="range"
            id="mix"
            name="mix"
            min="0"
            max="100"
            value="0"
            disabled
          />
          <span id="mix-value"></span>
        </div>

        <div>
          <label for="feedback">feedback</label>
          <input
            type="range"
            id="feedback"
            name="feedback"
            min="0"
            max="100"
            value="0"
            disabled
          />
          <span id="feedback-value"></span>
        </div>
      </div>
    </div>

    <div class="visualizations">
      <canvas width="640" height="200" id="compressor-input-wave"></canvas>
      <canvas width="640" height="200" id="compressor-output-wave"></canvas>
    </div>
    <script src="index.js"></script>
  </body>
</html>
